@model IEnumerable<fa19projectgroup16.Stock>

@{
    ViewData["Title"] = "Stocks";
}

@if (ViewBag.ErrorMessage != null)
{
    <div class="error">
        @ViewBag.ErrorMessage
    </div>
}

<h4>Pick a stock to edit</h4>
<div class="row">
    <div class="col-md-4">
        <form asp-action="Purchase">
            <table width="1000">
                <thead>
                    <tr>
                        <th>
                            @Html.DisplayNameFor(model => model.StockName)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.StockTicker)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.StockType)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.StockPrice)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.StockFee)
                        </th>
                        <th>
                            Buy
                        </th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.StockName)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.StockTicker)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.StockType)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.StockPrice)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.StockFee)
                            </td>
                            <td>
                                <input type="radio" name="stockID" value="@item.StockID" />
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
            <hr />
            <h4>Number of shares to buy</h4>
            <div class="form-group">
                <label class="control-label"></label>
                <input name="numShares" class="form-control" />
            </div>
            <h4>Date</h4>
            <div class="form-group">
                <label class="control-label"></label>
                <input name="date" type="date" class="form-control" />
            </div>
            <h4>Pick an account to use to purchase stock</h4>
            <table width="1000">
                <thead>
                    <tr>
                        <th>
                            Account Name
                        </th>
                        <th>
                            Account Number Last Four
                        </th>
                        <th>
                            Account Type
                        </th>
                        <th>
                            Account Balance (Cash Balance if Stock Portfolio)
                        </th>
                        <th>
                            Select
                        </th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var account in ViewBag.Accounts)
                    {
                        <tr>
                            <td>
                                @account.AccountName
                            </td>
                            <td>
                                @account.AccountNumberLastFour
                            </td>
                            <td>
                                @account.AccountType
                            </td>
                            <td>
                                @account.Balance
                            </td>
                            <td>
                                <input type="radio" name="accountID" value="@account.AccountID" />
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
            <div class="form-group">
                <input type="submit" value="Buy" class="btn btn-primary" />
            </div>
        </form>
    </div>
</div>

<style>
    .error{
        color: red;
    }
</style>